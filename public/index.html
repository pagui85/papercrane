function onSuccess(token) {
    fetch('https://papercrane.dan-papuga.workers.dev', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
        },
        body: new URLSearchParams({
            'cf-turnstile-response': token,
        }),
    })
    .then(response => {
        console.log('Response status:', response.status, response.statusText);
        return response.json();
    })
    .then(data => {
        console.log('Response data:', data);
        if (data.success) {
            window.location.href = 'https://photos.app.goo.gl/Jk8br2SuYe3oidZF8';
        } else {
            alert('Verification failed: ' + JSON.stringify(data));
        }
    })
    .catch(error => {
        console.error('Fetch error:', error);
        alert('An error occurred: ' + error.message);
    });
}
